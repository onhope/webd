<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>패럴랙스 스크롤링</title>
		<style>
			*, html {
				margin:0;
				padding:0
			}
			#sky {
				background:url('images/bg1.png') 50% 0;
				position:relative;
				width:100%;
				height:1500px;
				margin:0 auto;						
			}			
			#sky article {
				position:absolute;
				top:750px;
				left:40%;
			}
		</style>	
	</head>	
	<body>	
		<section id="sky" data-type="background" data-speed="0.5">
			<article><img src="images/balloon.png"></article>
		</section>		
		<script src="./js/jquery-2.2.4.min.js"></script>		
		<script>
			$(document).ready(function() { // 제이쿼리를 시작하는 코드, 문서 로딩이 끝나면 {} 안의 소스를 실행하라는 의미
				let wd = $(window); // window 객체를 변수로 지정, 필요할 때마다 이 변수를 사용
				$('section[data-type="background"]').each(function() { // data 값이 background인 section 태그를 찾아 {} 안의 소스를 실행
					let bg = $(this); // 현재 요소를 bg 변수로 지정
					$(window).scroll(function() { // scroll 이벤트가 발생했을 때, 실행할 함수를 정의
						let yPos = (wd.scrollTop() / bg.data('speed')); // wd.scrollTop()은 화면을 스크롤했을 때 브라우저 창 맨위에서부터 얼마나 스크롤되었는지 스크롤 크기를 가져옴
						let coords = '50%' + yPos + 'px'; // 배경의 좌표를 만듬
						bg.css({backgroundPosition:coords}); // CSS속성을 바꾸는 css메소드를 사용해 값을 변경 
					})
				})
			})
		</script>
	</body>
</html>
